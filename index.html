<!DOCTYPE html>

<html style="background:#202020;">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>清泠的博客</title>
<script src="jquery-1.6.4.js"></script>
<link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
</head>

<body> 
<div id="bk" bgcolor="#000000" style="background:#202020;">

<div id="header_wrap" class="outer">
        <header class="inner">
          <h1 id="project_title">清泠</h1>
          <h2 id="project_tagline">大神的博客</h2>
				  
<ul>
  <li><a href="dir/1.html">第一篇</a></li>
  <li><a href="dir/1.html">第二篇</a></li>
  <li><a href="dir/1.html">第三篇</a></li>
</ul>	  
        </header>

</div>

</div>


<script> 
//来自京东618活动页面
(function() {
    jQuery.browser.msie && 9 > jQuery.browser.version || new
    function(m) {
        function u() {
            q()
        }
        function q() {
            for (var c = 0; c < a.SPEED; c++) {
                var b = n(0),
                f = n(1),
                d = n(2),
                e;.7 > Math.random() ? (e = b.x, b = b.y) : .9 > Math.random() ? (e = f.x, b = f.y) : (e = d.x, b = d.y);
                h.beginPath();.8 > Math.random() ? (f = g(a.MIN_R, a.MAX_R), d = h.createRadialGradient(e, b, 0, e, b, f), d.addColorStop(0, "rgba(240,246,246,0.2)"), d.addColorStop(1, "rgba(240,246,246,0)"), h.fillStyle = d) : (f = g(a.MIN_R2, a.MAX_R2), h.fillStyle = "rgba(240,246,246,0.08)");
                h.arc(e, b, f, 0, 2 * Math.PI, !1);
                h.fill();
                h.closePath();
                p++;
                e = a.STEP * (l + 1) * 2;
                p === ~~ ((a.C_W * a.C_H - (a.C_W - e) * (a.C_H - e)) / (a.C_W * a.C_H) * a.TOTAL) && l++
            }
            k && p < a.TOTAL && setTimeout(q, a.TIME)
        }
        function n(c) {
            var b = {},
            f = a.STEP,
            d = (l + c) * f;
            c = (l + c + 1) * f;
            l === r - 1 ? (b.x = g(d, a.C_W - d), b.y = g(d, a.C_H - d)) : Math.random() <= a.SCALE ? (.5 < Math.random() ? (b.y = g(d, c), b.color = "255, 0, 0,") : (b.y = g(a.C_H - c, a.C_H - d), b.color = "0, 128, 0,"), b.x = g(c - 20, a.C_W - c + 20)) : (b.x = .5 < Math.random() ? g(d, c) : g(a.C_W - c, a.C_W - d), b.y = g(c - 20, a.C_H - c + 20));
            return b
        }
        function g(a, b) {
            return Math.random() * (b - a) + a
        }
        var a = {
            SPEED: 10,
            TOTAL: 0,
            C_W: 0,
            C_H: 0,
            SCALE: 0,
            MAX_R: 48,
            MIN_R: 8,
            MAX_R2: 16,
            MIN_R2: 4,
            TIME: 17,
            STEP: 40
        },
        t = function() {
            for (var a = document.createElement("div"), b = ["", "webkit", "moz", "ms"], f = {
                TRANSFORM: "",
                TRANSITION: ""
            },
            d = 0; d < b.length; d++) {
                var e = b[d] ? b[d] + "Transform": "transform";
                if (e in a.style) {
                    f.TRANSFORM = e;
                    break
                }
            }
            for (d = 0; d < b.length; d++) if (e = b[d] ? b[d] + "Transition": "transition", e in a.style) {
                f.TRANSITION = e;
                break
            }
            return f
        } (),
        k = null,
        h = null,
        p = 0,
        l = 0,
        r = 0; (function() {
            if (m && m.canvas) k = m.canvas,
            a.C_W = k.offsetWidth,
            a.C_H = k.offsetHeight;
            else {
                a.C_W = document.documentElement.clientWidth || document.body.clientWidth;
                a.C_H = document.documentElement.clientHeight || document.body.clientHeight;
                var c = document.createElement("canvas");
                document.getElementsByTagName("body")[0].appendChild(c);
                k = c;
                c.width = a.C_W;
                c.height = a.C_H;
                c.style.position = "fixed";
                c.style.left = "0px";
                c.style.top = "0px";
                c.style.width = "100%";
                c.style.zIndex = "100001";
                c.style[t.TRANSITION] = "all .6s ease-in"
            }
            a.TOTAL = a.C_W * a.C_H / 75;
            a.SCALE = a.C_W / (a.C_W + a.C_H);
            r = Math.floor((a.C_W < a.C_H ? a.C_W: a.C_H) / a.STEP);
            window.ctx = h = k.getContext("2d");
            setTimeout(u, 500)
        })(); (function() {
            var a = !1;
            $(k).bind("click",
            function() {
                if (!a) {
                    a = !0;
                    var b = {};
                    b[t.TRANSFORM] = "scale(50)";
                    b.opacity = 0;
                    $(this).css(b);
                    setTimeout(function() {
                        $(k).remove()
                    },
                    600)
                }
            })
        })()
    }
})(); 
</script>

<script type="text/javascript">
function Sprite(res,width,height,frame)
{
this.frame=frame;
this.width=width/frame;
this.height=height;
this.x=0;
this.y=0;
this.xscale=1;
this.yscale=1;
this.rotate=0;
this.xspeed=0;
this.yspeed=0;
this.curframe=0;

this.obj=new Image();	//document.createElement("img"); 
this.obj.src=res;
//this.obj.width=this.width;
//this.obj.height=this.height;
this.obj.scrollTop=0;
this.obj.scrollLeft=0;
this.obj.style.position="absolute";
document.getElementById('bk').appendChild(this.obj);

this.update=function()
{
this.curframe++;
if (this.curframe==this.frame)
this.curframe=0;

//rect (top, right, bottom, left)
this.obj.style.clip="rect(0px "+(this.curframe+1)*this.width+"px "+this.height+"px "+this.curframe*this.width+"px)";
this.obj.style.left=this.x-this.curframe*this.width+"px";
this.obj.style.top=this.y+"px";
this.obj.style.transform = 'rotate('+this.rotate+'deg)';
this.obj.style.transformOrigin=(this.curframe+0.5)*100/this.frame+"% 50%";
}

}

function ObjChaseAI()
{
img1.rotate=Math.atan((img2.y-img1.y)/(img2.x-img1.x))*(180/3.14)+180;
img1.rotate%=360;
//setInterval的回调中，this指向window对象，而不是对象本身
//使用bind或箭头表达式来修复
img1.update();//.bind(img1);
}

function ObjRunAI()
{
img2.y+=img2.yspeed;
if (img2.y>500)
img2.yspeed=-10;
else if (img2.y<300)
img2.yspeed=10;
img2.update();
}

var img1=new Sprite("chase.png",58,27,2);
img1.x=200;
img1.y=400;

var img2=new Sprite("run.png",156,19,6);
img2.x=400;
img2.y=400;
img2.yspeed=10;

img1.update();
img2.update();

setInterval(ObjChaseAI,400);
setInterval(ObjRunAI,200);
</script> 


</body>
</html>
